@page "/product"
@using Domain.Entity.Products
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]

<RadzenRow Gap="2rem" Class="rz-p-0 rz-p-lg-4">
    <RadzenColumn SizeXS="12" SizeMD="12">
        <RadzenFieldset Text="Products list">
            <RadzenStack Orientation="Orientation.Vertical" Gap="1rem">
                <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Start"
                             AlignItems="AlignItems.Center" Gap="1rem" Wrap="FlexWrap.Wrap" class="rz-mt-2">
                    <RadzenButton Click=@(args => AddNewItemAsync()) Variant="Variant.Flat" Shade="Shade.Dark"
                                  Text="Add new product" Icon="add_circle" ButtonStyle="ButtonStyle.Success" />
                </RadzenStack>
                <RadzenDataGrid @ref="_profileGrid" AllowFiltering="true" FilterPopupRenderMode="PopupRenderMode.OnDemand" AllowPaging="true" PageSize="10" AllowSorting="true"
                                Data="@_products" TItem="Product" AllowColumnPicking="true" AllowColumnResize="true" AllowGrouping="true"
                                GridLines="Radzen.DataGridGridLines.Both" AllowAlternatingRows="false"
                                ShowPagingSummary=@_showPagerSummary PagingSummaryFormat="@_pagingSummaryFormat" PageSizeOptions="@_pageSizeOptions">
                    @* <HeaderTemplate>
                    <RadzenButton ButtonStyle="ButtonStyle.Success" Icon="add_circle" Text="Add New Product" />
                    </HeaderTemplate> *@
                    <Columns>
                        @* <RadzenDataGridColumn TItem="Product" Property="Id" Title="Id" /> *@
                        <RadzenDataGridColumn TItem="Product" Width="200px" Property="Name" Title="Product Name" />
                        <RadzenDataGridColumn TItem="Product" Width="200px" Property="CategoryName" Title="Category Name" />
                        <RadzenDataGridColumn TItem="Product" Width="200px" Property="UnitName" Title="Unit Name" />
                        <RadzenDataGridColumn TItem="Product" Width="200px" Property="CreatedDate" Title="Created Date" />
                        <RadzenDataGridColumn TItem="Product" Width="200px" Filterable="false" Sortable="true" TextAlign="TextAlign.Center" Frozen="true" FrozenPosition="FrozenColumnPosition.Right">
                            <Template Context="data">
                                <RadzenButton Icon="edit" ButtonStyle="ButtonStyle.Light" Variant="Variant.Flat" Size="ButtonSize.Medium" @onclick:stopPropagation="true" />
                                <RadzenButton ButtonStyle="ButtonStyle.Danger" Icon="delete" Variant="Variant.Flat" Shade="Shade.Lighter" Size="ButtonSize.Medium" class="my-1 ms-1" @onclick:stopPropagation="true" />
                            </Template>
                        </RadzenDataGridColumn>
                    </Columns>
                </RadzenDataGrid>
            </RadzenStack>
        </RadzenFieldset>
    </RadzenColumn>
</RadzenRow>